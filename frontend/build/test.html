<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css"
    />
  </head>
  <style>
    /* Your existing styles */
    .form-box {
      width: 100%;
      background: #f1f7fe;
      overflow: hidden;
      border-radius: 16px;
      color: #010101;
    }

    .form {
      position: relative;
      display: flex;
      flex-direction: column;
      padding: 10px 24px;
      gap: 16px;
      text-align: center;
    }

    .title {
      font-weight: bold;
      font-size: 1.6rem;
    }

    .subtitle {
      font-size: 1rem;
      color: #666;
    }

    .form-container {
      overflow: hidden;
      border-radius: 8px;
      background-color: #fff;
      margin: 1rem 0 0.5rem;
      width: 100%;
    }

    .input {
      background: none;
      border: 0;
      outline: 0;
      height: 40px;
      width: 90%;
      font-size: 0.9rem;
      padding: 8px 15px;
      box-shadow: 0px 0px 2px gray;
      margin: 10px 0;
      border-radius: 10px;
    }

    .form .button {
      background-color: #0066ff;
      color: #fff;
      border: 0;
      border-radius: 24px;
      padding: 10px 16px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s ease;
      width: 200px;
    }

    .form .button:hover {
      background-color: #0043a8;
    }
  </style>
  <body>
    <!-- Button trigger modal -->
    <button
      type="button"
      class="btn btn-primary"
      id="triggerModalBtn"
      data-bs-toggle="modal"
      data-bs-target="#exampleModal"
      style="display: none; overflow: hidden"
    >
      Launch demo modal
    </button>

    <!-- Modal -->
    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="form-box">
            <form class="form" id="quoteForm">
              <div style="display: flex; justify-content: right">
                <button
                  type="button"
                  class="btn-close"
                  style="background-color: white; color: black"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div
                style="
                  display: flex;
                  justify-content: space-around;
                  align-items: center;
                  flex-wrap: wrap;
                "
              >
                <img
                  src="https://royalcollegeindia.in/img/logo.png"
                  alt="img"
                  style="height: 35px; width: 165px"
                />
                <p style="font-family: jost; font-size: 30px" class="title">
                  GET QUOTE
                </p>
              </div>
              <div class="form-container">
                <input
                  type="text"
                  class="input"
                  placeholder="Full Name"
                  name="fullName"
                  required
                />
                <input
                  type="email"
                  class="input"
                  placeholder="Email"
                  name="email"
                  required
                />
                <input
                  type="text"
                  class="input"
                  placeholder="Phone"
                  name="phone"
                  required
                />
                <select class="input" name="subject" required>
                  <option value="" disabled selected>
                    Select your message
                  </option>
                  <option value="B.Sc. Nursing">B.Sc. Nursing</option>
                  <option value="GNM">GNM</option>
                  <option value="ANM">ANM</option>
                  <option value="Para Medical">Para Medical</option>
                  <!-- <option value="Other">Other</option> -->
                </select>
              </div>
              <div style="display: flex; justify-content: center">
                <button class="button" type="submit">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS bundle -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <!-- EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <!-- Toastify -->
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

    <!-- Custom Script to trigger modal and handle form submission -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        setTimeout(function () {
          var triggerModalBtn = document.getElementById("triggerModalBtn");
          var modal = new bootstrap.Modal(
            document.getElementById("exampleModal")
          );
          modal.show();
        }, 4000); // Show modal after 1 second

        // Initialize EmailJS
        emailjs.init("Z48jzapJxlTf7gnIS"); // Replace with your EmailJS User ID

        // Handle form submission
        document
          .getElementById("quoteForm")
          .addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent the default form submission

            // Ensure subject is selected
            var subjectElement = document.querySelector(
              'select[name="subject"]'
            );
            if (!subjectElement.value) {
              Toastify({
                text: "Please select a subject.",
                duration: 3000,
                gravity: "top",
                position: "right",
                backgroundColor: "red",
                close: true,
              }).showToast();
              return;
            }

            emailjs.sendForm("service_zouaiwf", "template_uugewch", this).then(
              function (response) {
                console.log("SUCCESS!", response.status, response.text);
                Toastify({
                  text: "Your message has been sent successfully!",
                  duration: 3000, // 3 seconds
                  gravity: "top", // Top of the page
                  position: "right", // Right side
                  backgroundColor: "green",
                  close: true,
                }).showToast();
              },
              function (error) {
                console.log("FAILED...", error);
                Toastify({
                  text: "Failed to send the message. Please try again.",
                  duration: 3000, // 3 seconds
                  gravity: "top", // Top of the page
                  position: "right", // Right side
                  backgroundColor: "red",
                  close: true,
                }).showToast();
              }
            );

            // Optionally close the modal after submission
            var modal = bootstrap.Modal.getInstance(
              document.getElementById("exampleModal")
            );
            modal.hide();
          });
      });
    </script>
  </body>
</html>
